{
  "extracted_text": "# 1. هدف سیستم (System Objective)\nهدف این سیستم، پیاده‌سازی یک **دستیار پژوهشی عامل‌محور (Agentic Research Assistant)** به‌صورت آفلاین/لوکال است که بتواند با اتکا به استنتاج عمیق، بازیابی چندمنبعی و راستی‌آزمایی، پاسخ‌های مستند، قابل اعتماد و بدون Hallucination تولید کند.\nاین سیستم از نظر مفهومی هم‌راستا با معماری Manus AI بوده و بر چرخه **Plan → Execute → Reflect** استوار است.\n\n---\n\n# 2. نمای کلی معماری (High-Level Architecture)\nمعماری سیستم به‌صورت **ماژولار و چندعاملی** طراحی شده است. هر عامل (Agent) یک مسئولیت مشخص دارد و ارتباط بین عامل‌ها از طریق APIهای سبک‌وزن و یک Orchestrator مرکزی انجام می‌شود.\n\n**لایه‌های اصلی:**\n*   Planning & Orchestration Layer\n*   Agent Layer (Specialized Agents)\n*   Knowledge & Retrieval Layer\n*   Verification & Scoring Layer\n*   Response Generation Layer\n\n---\n\n# 3. Orchestrator و چرخه کنترلی سیستم\n\n## 3.1 Planning Layer (Plan / Execute / Reflect)\nاین لایه مسئول:\n*   شکستن پرسش کاربر به زیرمسئله‌ها (Task Decomposition)\n*   تعیین ترتیب اجرای عامل‌ها\n*   مدیریت Loop بازخورد (Draft → Review → Refine)\n*   جلوگیری از پاسخ‌دهی مدل بدون بازیابی (Forced Retrieval Logic)\n\nخروجی این لایه یک **Execution Graph** از عامل‌ها است.\n\n---\n\n# 4. عامل‌ها (Agents Specification)\n\n## 4.1 عامل درک پرسش (Query Understanding Agent)\n**وظیفه:**\n*   تحلیل نیت کاربر\n*   استخراج مفاهیم کلیدی\n*   تشخیص نوع پرسش (تحلیلی، توصیفی، مقایسه‌ای، پژوهشی)\n\n## 4.2 عامل بازیابی (Retrieval Agent)\n**وظیفه:**\n*   اجرای RAG عامل‌محور\n*   جستجوی همزمان برداری + کلیدواژه‌ای\n*   بازیابی از چند منبع:\n    *   KB محلی (pdf، تصویر، ویدئو و صوت)\n    *   وب (در فازهای بعدی)\n\n**تکنیک‌ها:**\n*   Vector Search (Embedding-based)\n*   Keyword Boost\n*   Multi-hop Retrieval\n*   Context Selector (الهام‌گرفته از Router در AI Manus)\n\n## 4.3 عامل استنتاج (Reasoning Agent)\n**وظیفه:**\n*   ترکیب داده‌های بازیابی‌شده\n*   انجام استنتاج چندمرحله‌ای\n*   تولید پاسخ اولیه مبتنی بر شواهد\n\n**تکنیک‌ها:**\n*   Chain-of-Thought\n*   Evidence-based Reasoning\n*   Context-aware Synthesis\n\n## 4.4 عامل اعتبارسنجی (Verification Agent)\n**وظیفه:**\n*   بررسی صحت ادعاها\n*   تطبیق پاسخ با منابع\n*   کاهش Hallucination\n\n**روش‌ها:**\n*   Fact Checking بین‌منبعی\n*   Cross-Verification (PDF ↔ Web ↔ Image/Video)\n*   Scoring شواهد\n\n## 4.5 عامل تولید پاسخ (Response Generation Agent)\n**وظیفه:**\n*   تولید پاسخ نهایی روان و ساختارمند\n*   ارجاع‌دهی به منابع\n*   تطبیق لحن با نوع پرسش\n\n---\n\n# 5. لایه دانش (Knowledge Layer)\n\n## 5.1 پایگاه داده برداری (Vector Store)\n*   ذخیره embedding چانک‌ها\n*   پشتیبانی از similarity search\n\n## 5.2 گراف دانش (Knowledge Graph)\n*   مدل‌سازی روابط مفهومی\n*   کمک به multi-hop reasoning\n\n---\n\n# 6. جریان اجرای سیستم (Execution Flow)\n1.  دریافت پرسش کاربر\n2.  تحلیل پرسش توسط Query Understanding Agent\n3.  شکستن مسئله در Planning Layer\n4.  اجرای Retrieval Agent (اجباری در صورت وجود KB)\n5.  استنتاج توسط Reasoning Agent\n6.  اعتبارسنجی پاسخ\n7.  تولید پاسخ نهایی\n8.  بازخورد کاربر و Loop اصلاح (در صورت نیاز)\n\n---\n\n# 7. بهینه‌سازی‌ها و چالش‌ها\n\n## 7.1 کاهش تاخیر\n*   Caching پاسخ‌ها\n*   Parallel Query Processing\n*   Speculative Execution\n\n## 7.2 بهینه‌سازی هزینه\n*   Selective Activation Agents\n*   استفاده از مدل‌های فشرده‌شده\n*   Routing هوشمند پرسش‌ها\n\n## 7.3 افزایش دقت\n*   Voting بین عاملی\n*   RAG Scoring شفاف\n*   Forced Retrieval Logic\n\n---\n\n# 8. خروجی‌ها (Outputs)\n*   پاسخ متنی، تصویری، ویدیویی و صوتی مستند\n*   گزارش ساختارمند (Word / PDF)\n*   لیست منابع استفاده‌شده\n*   Confidence Score\n\n---\n\n# 9. مسیر توسعه آینده\n*   Workspace اختصاصی برای هر پروژه\n*   Agent Verifier مستقل\n*   اتصال به ابزارهای تحریریه (Word / Excel)"
}